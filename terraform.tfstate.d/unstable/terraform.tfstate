{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 32,
  "lineage": "c0a8b4dd-b41d-bcd2-0e4b-c0f436df2655",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent",
      "name": "eligability_agent",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_arn": "arn:aws:bedrock:eu-west-2:261219435789:agent/PLLDWRK7TH",
            "agent_collaboration": "DISABLED",
            "agent_id": "PLLDWRK7TH",
            "agent_name": "gds_eligability_terraform_sandbox_eligability_agent-unstable",
            "agent_resource_role_arn": "arn:aws:iam::261219435789:role/bedrock-agent-role-unstable",
            "agent_version": null,
            "customer_encryption_key_arn": null,
            "description": null,
            "foundation_model": "amazon.nova-lite-v1:0",
            "guardrail_configuration": null,
            "id": "PLLDWRK7TH",
            "idle_session_ttl_in_seconds": 600,
            "instruction": "\u003ccontext\u003e\nYou are tasked with assessing whether the person you are in conversation with is\neligable for one or more benefits. You can ask the person as many questions as are needed to\nassess their eligability, but must only ask one question at a ti:me.\nDon't provide links\n\nYou must only use the links provided in this context block to understand the criteria for eligability.\n\nThese benefits, are:\n* Blue Badge: https://www.gov.uk/government/publications/blue-badge-can-i-get-one/can-i-get-a-blue-badge\n\u003c/context\u003e\n",
            "memory_configuration": null,
            "prepare_agent": true,
            "prepared_at": "2025-10-28T11:51:22Z",
            "prompt_override_configuration": [
              {
                "override_lambda": null,
                "prompt_configurations": null
              }
            ],
            "region": "eu-west-2",
            "skip_resource_in_use_check": false,
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent_alias",
      "name": "eligability_alias_for_prompts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_alias_arn": "arn:aws:bedrock:eu-west-2:261219435789:agent-alias/PLLDWRK7TH/LACOHDAWDL",
            "agent_alias_id": "LACOHDAWDL",
            "agent_alias_name": "eligability-alias-for-prompts-unstable",
            "agent_id": "PLLDWRK7TH",
            "description": "Alias to allow linkage between eligability agent and prompts",
            "id": "LACOHDAWDL,PLLDWRK7TH",
            "region": "eu-west-2",
            "routing_configuration": [
              {
                "agent_version": "1",
                "provisioned_throughput": null
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.eligability_agent",
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_flow",
      "name": "triage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:bedrock:eu-west-2:261219435789:flow/5J3408MJSB",
            "created_at": "2025-10-27T15:43:37Z",
            "customer_encryption_key_arn": null,
            "definition": [
              {
                "connection": [
                  {
                    "configuration": [
                      {
                        "conditional": [],
                        "data": [
                          {
                            "source_output": "document",
                            "target_input": "agentInputText"
                          }
                        ]
                      }
                    ],
                    "name": "FlowInputNodeFlowInputNode0ToAgent_1PromptsNode0",
                    "source": "FlowInputNode",
                    "target": "Triage",
                    "type": "Data"
                  },
                  {
                    "configuration": [
                      {
                        "conditional": [],
                        "data": [
                          {
                            "source_output": "agentResponse",
                            "target_input": "document"
                          }
                        ]
                      }
                    ],
                    "name": "Agent_1PromptsNode0ToFlowOutputNodeFlowOutputNode0",
                    "source": "Triage",
                    "target": "FlowOutputNode",
                    "type": "Data"
                  }
                ],
                "node": [
                  {
                    "configuration": [
                      {
                        "agent": [],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [
                          {}
                        ],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [],
                        "prompt": [],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [],
                    "name": "FlowInputNode",
                    "output": [
                      {
                        "name": "document",
                        "type": "String"
                      }
                    ],
                    "type": "Input"
                  },
                  {
                    "configuration": [
                      {
                        "agent": [
                          {
                            "agent_alias_arn": "arn:aws:bedrock:eu-west-2:261219435789:agent-alias/PLLDWRK7TH/LACOHDAWDL"
                          }
                        ],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [],
                        "prompt": [],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "agentInputText",
                        "type": "String"
                      },
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "promptAttributes",
                        "type": "Object"
                      },
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "sessionAttributes",
                        "type": "Object"
                      }
                    ],
                    "name": "Triage",
                    "output": [
                      {
                        "name": "agentResponse",
                        "type": "String"
                      }
                    ],
                    "type": "Agent"
                  },
                  {
                    "configuration": [
                      {
                        "agent": [],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [
                          {}
                        ],
                        "prompt": [],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "document",
                        "type": "String"
                      }
                    ],
                    "name": "FlowOutputNode",
                    "output": [],
                    "type": "Output"
                  }
                ]
              }
            ],
            "description": null,
            "execution_role_arn": "arn:aws:iam::261219435789:role/bedrock-execution-role-unstable",
            "id": "5J3408MJSB",
            "name": "triage-flow-unstable",
            "region": "eu-west-2",
            "status": "NotPrepared",
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "updated_at": "2025-10-28T11:53:06Z",
            "version": "DRAFT"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.eligability_agent",
            "aws_bedrockagent_agent_alias.eligability_alias_for_prompts",
            "aws_iam_role.bedrock_agent_role",
            "aws_iam_role.bedrock_execution_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_agent_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::261219435789:role/bedrock-agent-role-unstable",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-27T15:43:37Z",
            "description": "",
            "force_detach_policies": false,
            "id": "bedrock-agent-role-unstable",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonBedrockFullAccess"
            ],
            "max_session_duration": 3600,
            "name": "bedrock-agent-role-unstable",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATZUPEIUG7NGZE4K4N"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-agent-role-unstable"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_execution_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::261219435789:role/bedrock-execution-role-unstable",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-27T15:43:37Z",
            "description": "",
            "force_detach_policies": false,
            "id": "bedrock-execution-role-unstable",
            "inline_policy": [
              {
                "name": "bedrock-execution-policy-unstable",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"bedrock:InvokeAgent\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonBedrockFullAccess"
            ],
            "max_session_duration": 3600,
            "name": "bedrock-execution-role-unstable",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATZUPEIUGZXTWHS6H3"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-execution-role-unstable"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_execution_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-execution-role-unstable:bedrock-execution-policy-unstable",
            "name": "bedrock-execution-policy-unstable",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"bedrock:InvokeAgent\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "bedrock-execution-role-unstable"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-execution-policy-unstable",
            "role": "bedrock-execution-role-unstable"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_execution_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_agent_policy_limited_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-agent-role-unstable/arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "role": "bedrock-agent-role-unstable"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "role": "bedrock-agent-role-unstable"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_execution_policy_limited_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-execution-role-unstable/arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "role": "bedrock-execution-role-unstable"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
            "role": "bedrock-execution-role-unstable"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_execution_role"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
