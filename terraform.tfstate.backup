{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 43,
  "lineage": "8254b095-76dd-2b54-7a90-eddb683ff8d1",
  "outputs": {
    "agent_arn": {
      "value": "arn:aws:bedrock:eu-west-2:261219435789:agent/LF35SI7WK2",
      "type": "string"
    },
    "agent_id": {
      "value": "LF35SI7WK2",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent",
      "name": "eligability_agent",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_arn": "arn:aws:bedrock:eu-west-2:261219435789:agent/LF35SI7WK2",
            "agent_collaboration": "DISABLED",
            "agent_id": "LF35SI7WK2",
            "agent_name": "gds_eligability_terraform_sandbox_eligability_agent",
            "agent_resource_role_arn": "arn:aws:iam::261219435789:role/bedrock-agent-role",
            "agent_version": null,
            "customer_encryption_key_arn": null,
            "description": null,
            "foundation_model": "amazon.nova-lite-v1:0",
            "guardrail_configuration": null,
            "id": "LF35SI7WK2",
            "idle_session_ttl_in_seconds": 600,
            "instruction": "You are a helpful assistant. Who's a good assistant? You are! Yes, you are, yes you are",
            "memory_configuration": null,
            "prepare_agent": true,
            "prepared_at": "2025-10-22T08:01:03Z",
            "prompt_override_configuration": [
              {
                "override_lambda": null,
                "prompt_configurations": null
              }
            ],
            "region": "eu-west-2",
            "skip_resource_in_use_check": false,
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent_alias",
      "name": "eligability_alias_for_prompts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_alias_arn": "arn:aws:bedrock:eu-west-2:261219435789:agent-alias/LF35SI7WK2/JUXVAR471L",
            "agent_alias_id": "JUXVAR471L",
            "agent_alias_name": "eligability-alias-for-prompts",
            "agent_id": "LF35SI7WK2",
            "description": "Alias to allow linkage between eligability agent and prompts",
            "id": "JUXVAR471L,LF35SI7WK2",
            "region": "eu-west-2",
            "routing_configuration": [
              {
                "agent_version": "1",
                "provisioned_throughput": null
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.eligability_agent",
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_flow",
      "name": "triage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:bedrock:eu-west-2:261219435789:flow/BT4C6KZRP7",
            "created_at": "2025-10-21T15:11:01Z",
            "customer_encryption_key_arn": null,
            "definition": [
              {
                "connection": [
                  {
                    "configuration": [
                      {
                        "conditional": [],
                        "data": [
                          {
                            "source_output": "document",
                            "target_input": "topic"
                          }
                        ]
                      }
                    ],
                    "name": "FlowInputNodeFlowInputNode0ToPrompt_1PromptsNode0",
                    "source": "FlowInputNode",
                    "target": "Prompt_1",
                    "type": "Data"
                  },
                  {
                    "configuration": [
                      {
                        "conditional": [],
                        "data": [
                          {
                            "source_output": "modelCompletion",
                            "target_input": "document"
                          }
                        ]
                      }
                    ],
                    "name": "Prompt_1PromptsNode0ToFlowOutputNodeFlowOutputNode0",
                    "source": "Prompt_1",
                    "target": "FlowOutputNode",
                    "type": "Data"
                  }
                ],
                "node": [
                  {
                    "configuration": [
                      {
                        "agent": [],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [
                          {}
                        ],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [],
                        "prompt": [],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [],
                    "name": "FlowInputNode",
                    "output": [
                      {
                        "name": "document",
                        "type": "String"
                      }
                    ],
                    "type": "Input"
                  },
                  {
                    "configuration": [
                      {
                        "agent": [],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [],
                        "prompt": [
                          {
                            "guardrail_configuration": [],
                            "source_configuration": [
                              {
                                "inline": [],
                                "resource": [
                                  {
                                    "prompt_arn": "arn:aws:bedrock:eu-west-2:261219435789:prompt/NH9I44R2PU"
                                  }
                                ]
                              }
                            ]
                          }
                        ],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "topic",
                        "type": "String"
                      }
                    ],
                    "name": "Prompt_1",
                    "output": [
                      {
                        "name": "modelCompletion",
                        "type": "String"
                      }
                    ],
                    "type": "Prompt"
                  },
                  {
                    "configuration": [
                      {
                        "agent": [],
                        "collector": [],
                        "condition": [],
                        "inline_code": [],
                        "input": [],
                        "iterator": [],
                        "knowledge_base": [],
                        "lambda_function": [],
                        "lex": [],
                        "output": [
                          {}
                        ],
                        "prompt": [],
                        "retrieval": [],
                        "storage": []
                      }
                    ],
                    "input": [
                      {
                        "category": null,
                        "expression": "$.data",
                        "name": "document",
                        "type": "String"
                      }
                    ],
                    "name": "FlowOutputNode",
                    "output": [],
                    "type": "Output"
                  }
                ]
              }
            ],
            "description": null,
            "execution_role_arn": "arn:aws:iam::261219435789:role/bedrock-execution-role",
            "id": "BT4C6KZRP7",
            "name": "triage-flow",
            "region": "eu-west-2",
            "status": "Prepared",
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "updated_at": "2025-10-21T15:36:31Z",
            "version": "DRAFT"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.eligability_agent",
            "aws_bedrockagent_agent_alias.eligability_alias_for_prompts",
            "aws_bedrockagent_prompt.triage_prompt",
            "aws_iam_role.bedrock_agent_role",
            "aws_iam_role.bedrock_execution_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_prompt",
      "name": "triage_prompt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:bedrock:eu-west-2:261219435789:prompt/NH9I44R2PU",
            "created_at": "2025-10-21T15:11:00Z",
            "customer_encryption_key_arn": null,
            "default_variant": "triage_variant",
            "description": "This is an entrypoint prompt to triage the users initial input",
            "id": "NH9I44R2PU",
            "name": "triage_prompt",
            "region": "eu-west-2",
            "tags": null,
            "tags_all": {},
            "updated_at": "2025-10-21T15:23:37Z",
            "variant": [
              {
                "additional_model_request_fields": null,
                "gen_ai_resource": [
                  {
                    "agent": [
                      {
                        "agent_identifier": "arn:aws:bedrock:eu-west-2:261219435789:agent-alias/LF35SI7WK2/JUXVAR471L"
                      }
                    ]
                  }
                ],
                "inference_configuration": [
                  {
                    "text": [
                      {
                        "max_tokens": 2048,
                        "stop_sequences": [
                          "User:"
                        ],
                        "temperature": 0,
                        "top_p": 0.8999999761581421
                      }
                    ]
                  }
                ],
                "metadata": [],
                "model_id": null,
                "name": "triage_variant",
                "template_configuration": [
                  {
                    "chat": [],
                    "text": [
                      {
                        "cache_point": [],
                        "input_variable": [
                          {
                            "name": "topic"
                          }
                        ],
                        "text": "Write a paragraph about {{topic}}."
                      }
                    ]
                  }
                ],
                "template_type": "TEXT"
              }
            ],
            "version": "DRAFT"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.eligability_agent",
            "aws_bedrockagent_agent_alias.eligability_alias_for_prompts",
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_agent_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::261219435789:role/bedrock-agent-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-21T09:54:47Z",
            "description": "",
            "force_detach_policies": false,
            "id": "bedrock-agent-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess"
            ],
            "max_session_duration": 3600,
            "name": "bedrock-agent-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATZUPEIUG2Q3KHOEPU"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-agent-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_execution_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::261219435789:role/bedrock-execution-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-21T15:36:30Z",
            "description": "",
            "force_detach_policies": false,
            "id": "bedrock-execution-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess"
            ],
            "max_session_duration": 3600,
            "name": "bedrock-execution-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATZUPEIUG2S4VOBMOD"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-execution-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_agent_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-agent-role:bedrock-agent-policy",
            "name": "bedrock-agent-policy",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"bedrock:InvokeModel\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "bedrock-agent-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "name": "bedrock-agent-policy",
            "role": "bedrock-agent-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_agent_policy_limited_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-agent-role/arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "role": "bedrock-agent-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "role": "bedrock-agent-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_agent_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_execution_policy_limited_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bedrock-execution-role/arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "role": "bedrock-execution-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "261219435789",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonBedrockLimitedAccess",
            "role": "bedrock-execution-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_execution_role"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
